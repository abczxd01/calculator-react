(this["webpackJsonpcalculator-react"]=this["webpackJsonpcalculator-react"]||[]).push([[0],{14:function(t,e,r){},16:function(t,e,r){},17:function(t,e,r){"use strict";r.r(e);r(9);var n=r(1),a=r.n(n),s=r(8),o=r.n(s),i=r(4),c=r(2),l=r(3),u=r(6),h=r(5),b=(r(14),r(0)),m=[{nameVaribles:"--main-calculator-bg-color",colorVaribles:"#010808"},{nameVaribles:"--main-button-bg-color",colorVaribles:"#08151a"},{nameVaribles:"--extra-button-bg-color",colorVaribles:"#0a3d3e"},{nameVaribles:"--equals-button-bg-color",colorVaribles:"#249c91"},{nameVaribles:"--main-font-color",colorVaribles:"#feffff"}],p=function(t){Object(u.a)(r,t);var e=Object(h.a)(r);function r(t){var n;return Object(c.a)(this,r),(n=e.call(this,t)).handleChange=function(){new Promise((function(t){n.setState({active:!n.state.active}),t()})).then((function(){n.state.active?m.forEach((function(t){document.body.style.setProperty(t.nameVaribles,t.colorVaribles)})):document.body.style.cssText=""}))},n.state={active:!1},n}return Object(l.a)(r,[{key:"render",value:function(){return Object(b.jsxs)("label",{className:"toggle",children:[Object(b.jsx)("input",{type:"checkbox",onChange:this.handleChange}),Object(b.jsx)("span",{className:"toggle-item toggle-round"})]})}}]),r}(n.Component);r(16);function f(t){return Object(b.jsxs)("div",{className:"buttons-arrow",children:[Object(b.jsx)("button",{className:"button-arrow button-arrow-left",onClick:t.handleClick,children:"<"}),Object(b.jsx)("button",{className:"button-arrow button-arrow-right",onClick:t.handleClick,children:">"})]})}function d(t){return Object(b.jsx)("button",{className:"button-number",onClick:function(){return t.handleClick(t.num)},children:t.num})}function x(t){var e;return Object(b.jsx)("button",{className:"".concat(null!==(e=t.className)&&void 0!==e?e:""," button-operation"),onClick:function(){return t.handleClick(t.operation)},children:t.operation})}function j(t){return Object(b.jsx)("input",{type:"text",className:"input-field",placeholder:"0",value:t.value,onChange:t.handleChange,onKeyPress:function(e){return"Enter"===e.key?t.calculateExpression():null}})}function E(t){return Object(b.jsx)("p",{className:"error-expression",children:t.message})}var v=function(t){Object(u.a)(r,t);var e=Object(h.a)(r);function r(t){var n;return Object(c.a)(this,r),(n=e.call(this,t)).handleChange=function(t){n.resetError(),n.setState({mathExpression:t.currentTarget.value})},n.calculateExpression=function(){var t=n.state.history.slice(),e=n.validateMathExpression(),r=null;e&&(r=function(t){var e=/[+/:\xf7*\xd7\u2212-]/i;try{return function(t){for(var e=Object(i.a)(t),r=function(t,e,r){switch(r){case"+":return t+e;case"-":return t-e;case"*":return t*e;case"/":return t/e}},n=function(t){if(t.includes("*")&&t.includes("/")){var e=t.indexOf("*",1),r=t.indexOf("/",1);if(e<r)return e;if(r<e)return r}else{if(t.includes("*"))return t.indexOf("*",1);if(t.includes("/"))return t.indexOf("/",1)}return-1};e.length>2;){var a=n(e);if(-1!==a){var s=r(e[a-1],e[a+1],e[a]);e.splice(a-1,3,s)}else{var o=r(e[0],e[2],e[1]);e.shift(),e.shift(),e.shift(),e.unshift(o)}}return e[0]}(function(t){var r=function(t){switch(t){case"\xf7":case":":return"/";case"\xd7":return"*";case",":return".";case"\u2212":return"-";default:return t}},n=t.split(""),a=[],s="";return n.forEach((function(t){isNaN(t)&&"."!==t&&","!==t||(s+=r(t)),t.match(e)&&(a.push(+s),s="",a.push(r(t)))})),a.push(+s),a}(t))}catch(r){return console.log(r),r}}(n.state.mathExpression),isFinite(r)?n.setState((function(e){return{history:[].concat(Object(i.a)(t),[{mathExpression:e.mathExpression,result:r}]),historyStep:e.historyStep+1,mathExpression:"".concat(r)}})):n.setState({mathExpressionError:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}))},n.resetError=function(){""!==n.state.mathExpressionError&&n.setState({mathExpressionError:""})},n.handleClick=function(t){switch(t){case"C":n.resetError(),n.setState({mathExpression:""});break;case"=":n.calculateExpression();break;case"\xb1":case"%":break;default:n.resetError(),n.setState((function(e){return{mathExpression:"".concat(e.mathExpression).concat(t)}}))}},n.handleClickArrow=function(t){var e=n.state.historyStep,r=n.state.history;if(t.target.matches(".button-arrow-left")){var a=e-1;a>=0&&n.setState({historyStep:a,mathExpression:r[a].result})}else if(t.target.matches(".button-arrow-right")){var s=e+1;s<r.length&&n.setState({historyStep:s,mathExpression:r[s].result})}},n.numbers=[0,1,2,3,4,5,6,7,8,9,"."],n.operations=["+","\xb1","\u2212","\xd7","\xf7","%","C","="],n.state={history:[{mathExpression:"",result:""}],mathExpressionError:"",mathExpression:"",historyStep:0},n}return Object(l.a)(r,[{key:"validateMathExpression",value:function(){var t={exception:/[^0-9+/:\xf7*\xd7\u2212.,-]/i,dotCommaDouble:/[.,][.,]/i,operatorDouble:/[+/:\xf7*\xd7\u2212-][+/:\xf7*\xd7\u2212-]/i,dotCommaOperation:/[.,][+/:\xf7*\xd7\u2212-]/i,operatorDotComma:/[+/:\xf7*\xd7\u2212-][.,]/i},e=this.state.mathExpression,r=!1;if(e.match(/[/:\xf7]0/i)&&!e.match(/[/:\xf7]0[.,]\d{0,}/i))return this.setState({mathExpressionError:"\u0414\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u043d\u043e\u043b\u044c \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e"}),!1;for(var n in(""===e||e.length<3||!e.match(/[+/:\xf7*\xd7\u2212-]/i))&&(r=!0),t)e.match(t[n])&&(r=!0);return r?(this.setState({mathExpressionError:"\u041d\u0435\u043a\u043e\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),!1):(this.setState({mathExpressionError:""}),!0)}},{key:"render",value:function(){var t=this,e=this.state.history[this.state.historyStep].mathExpression;return Object(b.jsxs)("div",{className:"calculator",children:[Object(b.jsx)(f,{handleClick:this.handleClickArrow}),""===this.state.mathExpressionError?null:Object(b.jsx)(E,{message:this.state.mathExpressionError}),Object(b.jsx)("p",{className:"calculator__previous-result",children:e}),Object(b.jsx)(j,{handleChange:this.handleChange,value:this.state.mathExpression,calculateExpression:this.calculateExpression,resetError:this.resetError}),Object(b.jsxs)("div",{className:"calculator__buttons",children:[this.numbers.map((function(e){return Object(b.jsx)(d,{num:e,handleClick:t.handleClick},e)})),this.operations.map((function(e){return"="===e?Object(b.jsx)(x,{operation:e,className:"button-equals",handleClick:t.handleClick},e):Object(b.jsx)(x,{operation:e,handleClick:t.handleClick},e)}))]})]})}}]),r}(n.Component);function O(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(p,{}),Object(b.jsx)(v,{})]})}o.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root"))},9:function(t,e,r){}},[[17,1,2]]]);
//# sourceMappingURL=main.6a9f57fc.chunk.js.map